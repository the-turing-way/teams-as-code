
$schema: https://json-schema.org/draft/2020-12/schema
type: object
additionalProperties: false
required:
  - members
  - name
  - permissions
properties:
  name:
    type: string
    description: | 
      The name/slug of the GitHub team. Must contain only lowercase letters,
      numbers, and hyphens.
    pattern: "^[a-z0-9\\-]+$"
  description:
    type: string
    description: A short description of the GitHub team
  parent-team:
    type: string
    description: |
      The name/slug of the GitHub team that this team should be nested under.
      Must contain only lowercase letters, numbers, and hyphens.
    pattern: "^[a-z0-9\\-]+$"
  members:
    type: array
    description: A list of GitHub usernames that should belong to the GitHub team
    items:
      type: object
      additionalProperties: false
      required:
        - user
      properties:
        user:
          type: string
          description: The team member's GitHub handle
        maintainer:
          type: boolean
          description: Whether the team member should be a maintainer of the team.
  permissions:
    type: array
    additionalProperties: false
    description: |
      A list of objects describing the repos the GitHub team has permissions on,
      and what that permission level is
    items:
      type: object
      additionalProperties: false
      required:
        - repo
        - role
      properties:
        repo:
          type: string
          description: The name of a GitHub repo this team should have access to
        role:
          type: string
          description: |
            The level of access the GitHub team should have on this repo. Should
            be one of: pull, triage, push, maintain, admin.
          enum:
            - pull
            - triage
            - push
            - maintain
            - admin
  privacy:
    type: string
    description: |
      The privacy of the team. Can be "secret" or "closed". Defaults to "closed".
    enum:
      - closed
      - secret
